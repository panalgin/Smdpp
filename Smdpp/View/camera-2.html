<html>
<head>
	<title>Camera #1</title>
	<link href="css/camera-frame.css" type="text/css" rel="stylesheet" />
</head>
<body>
<video id="video" muted autoplay></video>

<script type="text/javascript">
/*
*  Copyright (c) 2015 The WebRTC project authors. All Rights Reserved.
*
*  Use of this source code is governed by a BSD-style license
*  that can be found in the LICENSE file in the root of the source
*  tree.
*/

'use strict';

var videoElement = document.querySelector('video');

function gotStream(stream) {
  window.stream = stream; // make stream available to console
  videoElement.srcObject = stream;
  // Refresh button list in case labels have become available
  
  return navigator.mediaDevices.enumerateDevices();
}

function start() {
  if (window.stream) {
    window.stream.getTracks().forEach(function(track) {
      track.stop();
    });
  }
  
  //cam2: 9dfd77aa6a915e1a8112bde7e4884ed02588360058e5010b0284d3e493d31f42
  //cam1: 3f4bd793b5df13e89658391dfeeb0ec2c57aaa2a170b1922fac5e392daa42797
  
  var videoSource = "9dfd77aa6a915e1a8112bde7e4884ed02588360058e5010b0284d3e493d31f42";
  var constraints = {
    video: 	{ deviceId: videoSource ? {exact: videoSource} : undefined }
  };
  
  navigator.mediaDevices.getUserMedia(constraints).
      then(gotStream).catch(handleError);
}

start();

function handleError(error) {
  //console.log('navigator.getUserMedia error: ', error);
}
</script>
</body>
</html>